{"ast":null,"code":"var _jsxFileName = \"/home/luong/kobuki_web/src/components/Status/Status.js\";\nimport React, { Component } from \"react\";\nimport { Container, Card, Col, Row, ProgressBar } from \"react-bootstrap\";\nimport ROSLIB from \"roslib\";\nimport \"../CommonStyle.css\";\nimport LineChart from './line';\nimport { CircularProgressbar, CircularProgressbarWithChildren, buildStyles } from 'react-circular-progressbar';\nimport 'react-circular-progressbar/dist/styles.css';\nconst value = 0.66;\n\nclass Status extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      speed: 0.25,\n      cpu: 40,\n      memory: 65,\n      battery: 82\n    };\n    this.ros = props.ros || null;\n    this.subVelocity = null;\n  }\n\n  componentDidUpdate() {\n    var that = this;\n\n    if (this.ros != this.props.ros) {\n      this.ros = this.props.ros;\n\n      if (this.ros != null) {\n        this.subVelocity = new ROSLIB.Topic({\n          ros: this.ros,\n          name: '/raw_vel',\n          messageType: 'jarvis_msgs/Velocities'\n        });\n        this.subVelocity.subscribe(function (message) {\n          // console.log(\"velocity message\", message);\n          that.setState({\n            speed: Math.abs(Math.round(message.linear_x * 100) / 100)\n          });\n        });\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      className: \"box-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      border: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      style: {\n        fontSize: \"1.2rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 54\n      }\n    }, \"Status\")), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      style: {\n        maxWidth: \"80%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgressbarWithChildren, {\n      style: {\n        maxWidth: \"60%\"\n      },\n      value: this.state.speed,\n      maxValue: 1,\n      circleRatio: 0.75,\n      styles: buildStyles({\n        rotation: 1 / 2 + 1 / 8,\n        trailColor: \"#eee\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: \"3rem\",\n        marginTop: \"2rem\",\n        marginBottom: \"0rem\",\n        paddingBottom: \"0rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 23\n      }\n    }, this.state.speed), \"m/s\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: \"1.6rem\",\n        marginTop: \"2rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, \"speed\"))))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgressbarWithChildren, {\n      style: {\n        maxWidth: \"60%\"\n      },\n      value: this.state.cpu / 100,\n      maxValue: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: \"1rem\",\n        marginTop: \"1rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 23\n      }\n    }, this.state.cpu, \"%\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 23\n      }\n    }, \"CPU\"))))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgressbarWithChildren, {\n      style: {\n        maxWidth: \"60%\"\n      },\n      value: this.state.memory / 100,\n      maxValue: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: \"1rem\",\n        marginTop: \"1rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 23\n      }\n    }, this.state.memory, \"%\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 23\n      }\n    }, \"memory\")))))), /*#__PURE__*/React.createElement(Row, {\n      style: {\n        marginTop: \"1.5rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ProgressBar, {\n      variant: \"success\",\n      animated: true,\n      now: this.state.battery,\n      label: `${this.state.battery}% Battery`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(LineChart, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n}\n\nexport default Status;","map":{"version":3,"sources":["/home/luong/kobuki_web/src/components/Status/Status.js"],"names":["React","Component","Container","Card","Col","Row","ProgressBar","ROSLIB","LineChart","CircularProgressbar","CircularProgressbarWithChildren","buildStyles","value","Status","constructor","props","state","speed","cpu","memory","battery","ros","subVelocity","componentDidUpdate","that","Topic","name","messageType","subscribe","message","setState","Math","abs","round","linear_x","render","fontSize","maxWidth","rotation","trailColor","marginTop","marginBottom","paddingBottom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Container, Card, Col, Row, ProgressBar } from \"react-bootstrap\";\nimport ROSLIB from \"roslib\";\nimport \"../CommonStyle.css\";\nimport LineChart from './line';\nimport { CircularProgressbar, CircularProgressbarWithChildren, buildStyles } from 'react-circular-progressbar';\nimport 'react-circular-progressbar/dist/styles.css';\n\nconst value = 0.66;\n\nclass Status extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      speed: 0.25,\n      cpu: 40,\n      memory: 65,\n      battery: 82,\n    };\n    this.ros = props.ros || null;\n    this.subVelocity = null;\n  }\n  componentDidUpdate() {\n    var that = this;\n    if (this.ros != this.props.ros) {\n      this.ros = this.props.ros;\n      if (this.ros != null) {\n        this.subVelocity = new ROSLIB.Topic({\n          ros: this.ros,\n          name: '/raw_vel',\n          messageType: 'jarvis_msgs/Velocities'\n        });\n        this.subVelocity.subscribe(function(message) {\n          // console.log(\"velocity message\", message);\n          that.setState({speed: Math.abs(Math.round(message.linear_x * 100) / 100)});\n        });\n      }\n    }\n  }\n  render() {\n    return (\n      <Container className=\"box-margin\">\n        <Card border=\"secondary\">\n          <Card.Header style={{fontSize: \"1.2rem\" }}><strong>Status</strong></Card.Header>\n          <Card.Body>\n            {/* <Row>\n              <Col>Memory</Col>\n            </Row> */}\n            <Row>\n              <Col>\n                <Container style={{maxWidth: \"80%\"}}>\n                  <CircularProgressbarWithChildren\n                    style={{maxWidth: \"60%\"}}\n                    value={this.state.speed}\n                    maxValue={1}\n                    circleRatio={0.75}\n                    styles={buildStyles({\n                      rotation: 1 / 2 + 1 / 8,\n                      trailColor: \"#eee\"\n                    })}\n                  >\n                    <div style={{ fontSize: \"3rem\", marginTop: \"2rem\", marginBottom: \"0rem\", paddingBottom: \"0rem\"}}>\n                      <strong>{this.state.speed}</strong>m/s\n                    </div>\n                    <div style={{ fontSize: \"1.6rem\", marginTop: \"2rem\" }}>\n                      speed\n                    </div>\n                  </CircularProgressbarWithChildren>\n                </Container>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <Container>\n                  <CircularProgressbarWithChildren\n                    style={{maxWidth: \"60%\"}}\n                    value={this.state.cpu / 100}\n                    maxValue={1}\n                  >\n                    <div style={{ fontSize: \"1rem\", marginTop: \"1rem\" }}>\n                      <strong>{this.state.cpu}%</strong>\n                      <p>CPU</p>\n                    </div>\n                  </CircularProgressbarWithChildren>\n                </Container>\n              </Col>\n              <Col>\n                <Container>\n                  <CircularProgressbarWithChildren\n                    style={{maxWidth: \"60%\"}}\n                    value={this.state.memory / 100}\n                    maxValue={1}\n                  >\n                    <div style={{ fontSize: \"1rem\", marginTop: \"1rem\" }}>\n                      <strong>{this.state.memory}%</strong>\n                      <p>memory</p>\n                    </div>\n                  </CircularProgressbarWithChildren>\n                </Container>\n              </Col>\n            </Row>\n            <Row style={{marginTop: \"1.5rem\"}}>\n              <Col>\n                <ProgressBar variant=\"success\" animated now={this.state.battery} label={`${this.state.battery}% Battery`}/>\n              </Col>\n            </Row>\n            <Row>\n              <Col>\n                <LineChart />\n              </Col>\n            </Row>\n          </Card.Body>\n        </Card>\n      </Container>\n    )\n  }\n}\n\nexport default Status;"]},"metadata":{},"sourceType":"module"}