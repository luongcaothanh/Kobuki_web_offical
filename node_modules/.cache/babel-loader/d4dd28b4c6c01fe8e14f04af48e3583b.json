{"ast":null,"code":"var _jsxFileName = \"/home/luong/kobuki_web/src/components/Status/Status.js\";\nimport React, { Component } from \"react\";\nimport { Container, Card, Col, Row } from \"react-bootstrap\";\nimport ROSLIB from \"roslib\";\nimport \"../CommonStyle.css\";\nimport LineChart from './line';\nimport { CircularProgressbarWithChildren, buildStyles } from 'react-circular-progressbar';\nimport 'react-circular-progressbar/dist/styles.css';\nconst value = 0.66;\n\nclass Status extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      speed: 0.25\n    };\n    this.ros = props.ros || null;\n    this.subVelocity = null;\n  }\n\n  componentDidUpdate() {\n    var that = this;\n\n    if (this.ros != this.props.ros) {\n      this.ros = this.props.ros;\n\n      if (this.ros != null) {\n        this.subVelocity = new ROSLIB.Topic({\n          ros: this.ros,\n          name: '/mobile_base/commands/velocity',\n          messageType: 'geometry_msgs/Twist'\n        });\n        this.subVelocity.subscribe(function (message) {\n          // console.log(\"velocity message\", message);\n          that.setState({\n            speed: Math.abs(Math.round(message.linear.x * 100) / 100)\n          });\n        });\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      className: \"box-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      border: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      style: {\n        fontSize: \"1.2rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 54\n      }\n    }, \"Status\")), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      style: {\n        width: \"200px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgressbarWithChildren, {\n      style: {\n        maxWidth: \"100%\"\n      },\n      value: this.state.speed,\n      maxValue: 1,\n      circleRatio: 0.75,\n      styles: buildStyles({\n        rotation: 1 / 2 + 1 / 8,\n        trailColor: \"#eee\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: \"3rem\",\n        marginTop: \"2rem\",\n        marginBottom: \"0rem\",\n        paddingBottom: \"0rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 23\n      }\n    }, this.state.speed), \"m/s\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: \"1.6rem\",\n        marginTop: \"2rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, \"speed\"))))))));\n  }\n\n}\n\nexport default Status;","map":{"version":3,"sources":["/home/luong/kobuki_web/src/components/Status/Status.js"],"names":["React","Component","Container","Card","Col","Row","ROSLIB","LineChart","CircularProgressbarWithChildren","buildStyles","value","Status","constructor","props","state","speed","ros","subVelocity","componentDidUpdate","that","Topic","name","messageType","subscribe","message","setState","Math","abs","round","linear","x","render","fontSize","width","maxWidth","rotation","trailColor","marginTop","marginBottom","paddingBottom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Container, Card, Col, Row } from \"react-bootstrap\";\nimport ROSLIB from \"roslib\";\nimport \"../CommonStyle.css\";\nimport LineChart from './line';\nimport { CircularProgressbarWithChildren, buildStyles } from 'react-circular-progressbar';\nimport 'react-circular-progressbar/dist/styles.css';\n\nconst value = 0.66;\n\nclass Status extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      speed: 0.25,\n    };\n    this.ros = props.ros || null;\n    this.subVelocity = null;\n  }\n  componentDidUpdate() {\n    var that = this;\n    if (this.ros != this.props.ros) {\n      this.ros = this.props.ros;\n      if (this.ros != null) {\n        this.subVelocity = new ROSLIB.Topic({\n          ros: this.ros,\n          name: '/mobile_base/commands/velocity',\n          messageType: 'geometry_msgs/Twist'\n        });\n        this.subVelocity.subscribe(function(message) {\n          // console.log(\"velocity message\", message);\n          that.setState({speed: Math.abs(Math.round(message.linear.x * 100) / 100)});\n        });\n      }\n    }\n  }\n  render() {\n    return (\n      <Container className=\"box-margin\">\n        <Card border=\"secondary\">\n          <Card.Header style={{fontSize: \"1.2rem\" }}><strong>Status</strong></Card.Header>\n          <Card.Body>\n            <Row>\n              <Col>\n                <Container style={{width: \"200px\"}}>\n                  <CircularProgressbarWithChildren\n                    style={{maxWidth: \"100%\"}}\n                    value={this.state.speed}\n                    maxValue={1}\n                    circleRatio={0.75}\n                    styles={buildStyles({\n                      rotation: 1 / 2 + 1 / 8,\n                      trailColor: \"#eee\"\n                    })}\n                  >\n                    <div style={{ fontSize: \"3rem\", marginTop: \"2rem\", marginBottom: \"0rem\", paddingBottom: \"0rem\"}}>\n                      <strong>{this.state.speed}</strong>m/s\n                    </div>\n                    <div style={{ fontSize: \"1.6rem\", marginTop: \"2rem\" }}>\n                      speed\n                    </div>\n                  </CircularProgressbarWithChildren>\n                </Container>\n              </Col>\n            </Row>\n          </Card.Body>\n        </Card>\n      </Container>\n    )\n  }\n}\n\nexport default Status;"]},"metadata":{},"sourceType":"module"}